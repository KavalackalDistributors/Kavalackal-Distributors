<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>KAVALACKAL DISTRIBUTORS</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
    <script>
      (function(){
        emailjs.init("8r-DC9olD692lfBur");
      })();
    </script>
</head>
<body>
    <div id="auth-overlay" class="auth-overlay">
        <div id="login-box" class="auth-box">
            <h2>Login</h2>
            <input type="text" id="login-identifier" placeholder="Phone Number or Email">
            <div class="password-wrapper">
                <input type="password" id="login-password" placeholder="Password">
                <button type="button" id="toggle-login-password" class="eye-btn" tabindex="-1"><i class="fas fa-eye"></i></button>
            </div>
            <div class="auth-actions">
                <span class="auth-link" id="show-create">Create Account</span>
                <span class="auth-link" id="forgot-password-link">Forgot Password?</span>
            </div>
            <div id="login-error" class="auth-error"></div>
            <button id="login-btn" class="auth-btn">Login</button>
        </div>
        <div id="create-box" class="auth-box create" style="display:none;">
            <h2>Create Account</h2>
            <input type="text" id="create-name" placeholder="Full Name">
            <input type="text" id="create-identifier" placeholder="Phone Number or Email">
            <div class="password-wrapper">
                <input type="password" id="create-password" placeholder="Password">
                <button type="button" id="toggle-create-password" class="eye-btn" tabindex="-1"><i class="fas fa-eye"></i></button>
            </div>
            <div class="auth-actions" style="justify-content: flex-start;">
                <span class="auth-link" id="back-to-login">Back</span>
            </div>
            <div id="create-error" class="auth-error"></div>
            <button id="create-btn" class="auth-btn blue">Create</button>
        </div>
    </div>
    <div id="forgot-password-modal" class="change-modal" style="display:none;">
        <h3>Forgot Password</h3>
        <input type="text" id="forgot-email" placeholder="Enter your email">
        <button id="send-code-btn" class="auth-btn blue">Send Code</button>
        <div id="forgot-email-success" class="change-success"></div>
        <button id="close-forgot-modal" class="close-modal">&times;</button>
    </div>
    <div id="verify-code-modal" class="change-modal" style="display:none;">
        <h3>Enter Verification Code</h3>
        <input type="text" id="verify-code" placeholder="Enter code">
        <button id="verify-code-btn" class="auth-btn blue">Verify</button>
        <div id="verify-code-success" class="change-success"></div>
        <button id="close-verify-modal" class="close-modal">&times;</button>
    </div>
    <div id="reset-password-modal" class="change-modal" style="display:none;">
        <h3>Reset Password</h3>
        <input type="password" id="new-reset-password" placeholder="New Password">
        <input type="password" id="confirm-reset-password" placeholder="Confirm Password">
        <button id="reset-password-btn" class="auth-btn blue">OK</button>
        <div id="reset-password-success" class="change-success"></div>
        <button id="close-reset-modal" class="close-modal">&times;</button>
    </div>
    <div id="main-content" style="display:none;">
    <nav class="main-nav">
        <div class="nav-left">
            <h1>KAVALACKAL DISTRIBUTORS</h1>
        </div>
        <div class="search-container">
            <input type="text" id="search" placeholder="Search products...">
            <button class="search-button" onclick="handleSearch()">
                <i class="fas fa-search"></i>
            </button>
        </div>
        <div class="nav-items">
            <a href="index.html">Home</a>
            <a href="about.html">About Us</a>
            <a href="#" id="accounts-tab">Accounts</a>
            <a href="#" id="edit-website-tab" style="display: none;">Edit Website</a>
            <a href="https://www.youtube.com/@kavalackal" target="_blank" class="youtube-link">
                <i class="fab fa-youtube"></i>
                YouTube
            </a>
        </div>
        <div class="star-background"></div>
        <div class="lightning"></div>
    </nav>

    <div id="sidebar" class="sidebar">
        <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
        <div class="contact-info">
            <h2>Contact Us</h2>
            <p>
                <i class="fas fa-envelope"></i>
                <span>kavalackaldistributors@gmail.com</span>
            </p>
            <p>
                <i class="fas fa-phone"></i>
                <span>+91 9447607588</span>
            </p>
        </div>
    </div>

    <div class="section-container">
        <h2 class="section-heading">Amul Products</h2>
        <div id="amul-products" class="product-row">
            <!-- Amul products will be added here dynamically -->
        </div>

        <h2 class="section-heading">Eyetex Products</h2>
        <div id="eyetex-products" class="product-row">
            <!-- Eyetex products will be added here dynamically -->
        </div>
    </div>

    <main id="product-grid">
        <!-- Products will be dynamically added here -->
    </main>

    <footer>
        <div class="footer-content">
            <p>KAVALACKAL DISTRIBUTORS - Official Website</p>
            <a href="https://www.youtube.com/@kavalackal" target="_blank" class="youtube-link">
                <i class="fab fa-youtube"></i>
                YouTube
            </a>
        </div>
    </footer>
    </div>
    <div id="account-modal" class="account-modal" style="display:none;">
        <div class="account-modal-content">
            <h2>Account</h2>
            <div class="account-field">
                <label>Name</label>
                <span id="account-name"></span>
            </div>
            <div class="account-field">
                <label>Email</label>
                <span id="account-email"></span>
                <button class="change-btn" id="change-email-btn">Change</button>
            </div>
            <div class="account-field">
                <label>Password</label>
                <span id="account-password"></span>
                <button class="change-btn" id="change-password-btn">Change</button>
            </div>
            <button id="logout-btn" class="logout-btn">Logout</button>
            <button id="close-account-modal" class="close-modal">&times;</button>
        </div>
        <div id="change-email-modal" class="change-modal" style="display:none;">
            <h3>Email Change</h3>
            <input type="text" id="old-email" placeholder="Old Email">
            <input type="text" id="new-email" placeholder="New Email">
            <button id="submit-email-change" class="auth-btn blue">Change</button>
            <div id="email-change-success" class="change-success"></div>
            <button id="close-email-modal" class="close-modal">&times;</button>
        </div>
        <div id="change-password-modal" class="change-modal" style="display:none;">
            <h3>Password Change</h3>
            <input type="password" id="old-password" placeholder="Old Password">
            <input type="password" id="new-password" placeholder="New Password">
            <button id="submit-password-change" class="auth-btn blue">Change</button>
            <div id="password-change-success" class="change-success"></div>
            <button id="close-password-modal" class="close-modal">&times;</button>
        </div>
    </div>
    <div id="product-modal" class="product-modal" style="display:none;">
        <div class="product-modal-content">
            <button id="close-product-modal" class="close-modal">&times;</button>
            <button id="prev-product" class="nav-arrow nav-prev"><i class="fas fa-chevron-left"></i></button>
            <button id="next-product" class="nav-arrow nav-next"><i class="fas fa-chevron-right"></i></button>
            <div class="product-modal-image">
                <img id="modal-product-image" src="" alt="">
            </div>
            <div class="product-modal-info">
                <h3 id="modal-product-name"></h3>
            </div>
        </div>
    </div>
    <div id="edit-product-modal" class="category-edit-modal" style="display:none;">
        <div class="category-edit-modal-content">
            <h3>Edit Product</h3>
            <label for="edit-product-select">Select Product:</label>
            <select id="edit-product-select"></select>
            <label for="edit-product-name">Product Name:</label>
            <input type="text" id="edit-product-name" placeholder="Product Name">
            <label for="edit-product-description">Description:</label>
            <textarea id="edit-product-description" placeholder="Description" style="resize:vertical;"></textarea>
            <div class="modal-actions-row">
                <button id="save-edit-product-btn" class="modal-action-btn">Save</button>
                <button id="delete-edit-product-btn" class="modal-action-btn" style="background:#ff4444;color:#fff;">Delete</button>
                <button id="cancel-edit-product-btn" class="modal-action-btn" style="background:#ccc;color:#333;">Cancel</button>
            </div>
        </div>
    </div>
    <script src="script.js"></script>
    <script src="search.js"></script>
    <script src="search-handler.js"></script>
</body>
</html>